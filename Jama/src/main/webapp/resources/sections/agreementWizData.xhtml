<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" 
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">

	<p:tab id="tabDati" title="Dati">
	
		<p:panel header="Tabella dei dati generali">
		      
		    <h:panelGrid columns="3" columnClasses="label, value, errorMessage" styleClass="grid">
		    
				<h:outputText value="#{msgs.newAgrTitle}:" />
	            <h:inputTextarea id="title" cols="20" rows="4"   value="#{agreementWizardPCB.agreement.title}" label="#{msgs.newAgrTitle}" required="true" />
	            <h:message for="title" />
	            
	            <h:outputText value="#{msgs.newAgrProtocolNumber}:" />
	            <h:inputText id="protocolNumber" value="#{agreementWizardPCB.agreement.protocolNumber}" label="#{msgs.newAgrProtocolNumber}" required="true" >
	            	<f:convertNumber minIntegerDigits="6" maxIntegerDigits="6" integerOnly="true"/>
	            </h:inputText>
	            <h:message class="errorMessage" for="protocolNumber" />
	            
	            <h:outputText value="#{msgs.newAgrDepartment}:" />
	            <h:outputText value="#{agreementWizardPCB.agreement.department}" />
	            <br/>
	            
	            <h:outputText value="#{msgs.newAgrType}:" />
	            <h:selectOneMenu id="type" value="#{agreementWizardPCB.agreement.type}" label="#{msgs.newAgrType}" required="true">
	            	<f:selectItems value="#{agreementWizPB.agreementTypeItems}" />
	            </h:selectOneMenu>
	            <h:message class="errorMessage" for="type" />
	            
	            <h:outputText value="#{msgs.newAgrChief}:" />
	            <p:selectOneMenu id="chiefMenu" value="#{agreementWizardPCB.agreement.chief}" label="#{msgs.newAgrChief}" required="true">
	            	<f:selectItems value="#{agreementWizPB.chiefItems}" />
	            	<f:converter binding="#{chiefConverter}" />
	            </p:selectOneMenu> 
	            <h:message class="errorMessage" for="chiefMenu" />
	            
	            <p:commandButton value="#{msgs.add}" process="@this" actionListener="#{chiefDialogPCB.clear()}" 
						oncomplete="w_chiefDialog.show()" update=":#{p:component('chiefPanel')}" >
					<p:resetInput target=":#{p:component('chiefPanel')}" />
				</p:commandButton>  
				
				 <ui:remove>
	            <h:outputText value="#{msgs.newAgrContact}:" />
	            <h:inputText id="contact" value="#{agreementWizardPCB.agreement.contactPerson}" label="#{msgs.newAgrContact}" required="true" />
	            <h:message class="errorMessage" for="contact" />
	            
	            <h:outputText value="#{msgs.newAgrCompany}:" />
	            <h:selectOneMenu id="company" value="#{agreementWizardPCB.agreement.company}" label="#{msgs.newAgrCompany}" required="true">
	            	<f:selectItems value="#{agreementWizPB.companyItems}" />
				</h:selectOneMenu> 
	            <h:message class="errorMessage" for="company" />
	            
	            </ui:remove>
	            
	            <h:outputText value="#{msgs.newAgrProjectNumber}:" />
	            <h:inputText id="projectNumber" value="#{agreementWizardPCB.agreement.CIA_projectNumber}" label="#{msgs.newAgrProjectNumber}" required="true" />
	            <h:message class="errorMessage" for="projectNumber" />
	            
	            <h:outputText value="#{msgs.newAgrInventory}:" />
	            <h:inputText id="inventoryNumber" value="#{agreementWizardPCB.agreement.inventoryNumber}" label="#{msgs.newAgrInventory}" required="true" />
	            <h:message class="errorMessage" for="inventoryNumber" />
	            
	            <h:outputText value="#{msgs.newAgrTaxableAmount}:" />
	            <h:inputText id="taxableAmount" value="#{agreementWizardPCB.agreement.wholeTaxableAmount}" label="#{msgs.newAgrTaxableAmount}" required="true">
	            	<f:convertNumber/>
	            	<f:ajax render="amount" />
	            </h:inputText>
	            <h:message class="errorMessage" for="taxableAmount" />
	            
	            <h:outputText value="#{msgs.newAgrIva}:" />
	            <h:inputText id="iva" value="#{agreementWizardPCB.agreement.IVA_amount}" label="#{msgs.newAgrIva}" required="true">
	            	<f:convertNumber/>
	            	<f:ajax render="amount" />
	            </h:inputText>
	            <h:message class="errorMessage" for="iva" />
	            
	            <h:outputText value="#{msgs.newAgrWholeAmount}:" />
	            <h:inputText id="amount" value="#{agreementWizardPCB.agreement.wholeAmount}" readonly="true" >
	            	<f:convertNumber type="currency"/>
	            </h:inputText>
	            <br/>
	            
	            <h:outputText value="#{msgs.newAgrApproval}:" />
	            <p:calendar id="approvalDate" pattern="dd/MM/yyyy" showOtherMonths="true" required="true" >
	            	<f:convertDateTime type="date" pattern="dd/MM/yyyy" />
	            </p:calendar>
	            <h:message class="errorMessage" for="approvalDate" />
	            
	            <h:outputText value="#{msgs.newAgrBegin}:" />
	            <p:calendar id="beginDate" pattern="dd/MM/yyyy" showOtherMonths="true" required="true">
	            	<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
	            </p:calendar>
	            <h:message class="errorMessage" for="beginDate" />
	            
	            <h:outputText value="#{msgs.newAgrEnd}:" />
	            <p:calendar id="deadlineDate" pattern="dd/MM/yyyy" showOtherMonths="true" required="true">
	            	<f:convertDateTime type="date" pattern="dd/MM/yyyy" />
	            </p:calendar>
	            <h:message class="errorMessage" for="deadlineDate" />
	            
	            
		  
		    </h:panelGrid>
		    
		</p:panel>
          
  	</p:tab> 
  	
  	
	
</ui:composition>

	