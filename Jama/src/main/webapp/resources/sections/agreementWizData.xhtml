<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
 
    <div style="position: relative;">
    
        <h:panelGrid rowClasses="s1row" columns="3" columnClasses="wfcol1,wfcol2,wfcol3">
            
            <h:outputText value="#{msgs.newAgrTitle}:" />
            <h:inputTextarea id="title" cols="20" rows="4"   value="#{agreementWizardPCB.agreement.title}" label="#{msgs.newAgrTitle}" required="true" />
            <rich:message for="title" />
            
            <h:outputText value="#{msgs.newAgrProtocolNumber}:" />
            <h:inputText id="protocolNumber" value="#{agreementWizardPCB.agreement.protocolNumber}" label="#{msgs.newAgrProtocolNumber}" required="true" >
            	<f:convertNumber minIntegerDigits="6" maxIntegerDigits="6" integerOnly="true"/>
            </h:inputText>
            <rich:message for="protocolNumber" />
            
            <h:outputText value="#{msgs.newAgrDepartment}:" />
            <h:outputText value="#{agreementWizardPCB.agreement.department}" />
            <br/>
            
            <h:outputText value="#{msgs.newAgrType}:" />
            <h:selectOneMenu id="type" value="#{agreementWizardPCB.agreement.type}" label="#{msgs.newAgrType}" required="true">
            	<f:selectItems value="#{agreementWizPB.agreementTypeItems}" />
            </h:selectOneMenu> 
            <rich:message for="type" />
            
            <h:outputText value="#{msgs.newAgrChief}:" />
            <h:selectOneMenu id="chief" value="#{agreementWizardPCB.agreement.chief}" label="#{msgs.newAgrChief}" required="true">
            	<f:selectItems value="#{agreementWizPB.chiefItems}" />
            </h:selectOneMenu> 
            <rich:message for="chief" />
 
            <h:outputText value="#{msgs.newAgrContact}:" />
            <h:inputText id="contact" value="#{agreementWizardPCB.agreement.contactPerson}" label="#{msgs.newAgrContact}" required="true" />
            <rich:message for="contact" />
            
            <h:outputText value="#{msgs.newAgrCompany}:" />
            <h:selectOneMenu id="company" value="#{agreementWizardPCB.agreement.company}" label="#{msgs.newAgrCompany}" required="true">
            	<f:selectItems value="#{agreementWizPB.companyItems}" />
			</h:selectOneMenu> 
            <rich:message for="company" />
            
            <h:outputText value="#{msgs.newAgrProjectNumber}:" />
            <h:inputText id="projectNumber" value="#{agreementWizardPCB.agreement.CIA_projectNumber}" label="#{msgs.newAgrProjectNumber}" required="true" />
            <rich:message for="projectNumber" />
            
            <h:outputText value="#{msgs.newAgrInventory}:" />
            <h:inputText id="inventoryNumber" value="#{agreementWizardPCB.agreement.inventoryNumber}" label="#{msgs.newAgrInventory}" required="true" />
            <rich:message for="inventoryNumber" />
            
            <h:outputText value="#{msgs.newAgrTaxableAmount}:" />
            <h:inputText id="taxableAmount" value="#{agreementWizardPCB.agreement.wholeTaxableAmount}" label="#{msgs.newAgrTaxableAmount}" required="true">
            	<f:convertNumber/>
            	<f:ajax render="amount" />
            </h:inputText>
            <rich:message for="taxableAmount" />
            
            <h:outputText value="#{msgs.newAgrIva}:" />
            <h:inputText id="iva" value="#{agreementWizardPCB.agreement.IVA_amount}" label="#{msgs.newAgrIva}" required="true">
            	<f:convertNumber/>
            	<f:ajax render="amount" />
            </h:inputText>
            <rich:message for="iva" />
            
            <h:outputText value="#{msgs.newAgrWholeAmount}:" />
            <h:inputText id="amount" value="#{agreementWizardPCB.agreement.wholeAmount}" readonly="true" >
            	<f:convertNumber type="currency"/>
            </h:inputText>
            <br/>
            
            <h:outputText value="#{msgs.newAgrApproval}:" />
            <rich:calendar id="approvalDate" datePattern="dd/MM/yyyy" popup="true" required="true"></rich:calendar>
            <rich:message for="approvalDate" />
            
            <h:outputText value="#{msgs.newAgrBegin}:" />
            <rich:calendar id="beginDate" datePattern="dd/MM/yyyy" popup="true" required="true"></rich:calendar>
            <rich:message for="beginDate" />
            
            <h:outputText value="#{msgs.newAgrEnd}:" />
            <rich:calendar id="deadlineDate" datePattern="dd/MM/yyyy" popup="true" required="true"></rich:calendar>
            <rich:message for="deadlineDate" />
            
            <h:outputText value="#{msgs.newAgrNote}:" />
            <h:inputTextarea id="notes" cols="20" rows="4"  value="#{agreementWizardPCB.agreement.note}" label="#{msgs.newAgrNote}" required="false" />
            <rich:message for="notes" />
            
        </h:panelGrid>
        
        
        <div class="navPanel" style="width: 100%;">
        
        	<h:commandButton action="cancel" value="Annulla" immediate="true"/>
        	
            <a4j:commandButton style="float:right" value="Next &gt;&gt;">
                <rich:toggleControl targetItem="@next" event="click" />
                <input type="hidden" name="cid" value='#{agreementWizardPCB.conversation.id}' />
            </a4j:commandButton>
            
            
        </div>
        
        
    </div>
</ui:composition>